<?xml version="1.0"?>
<!--ΤΙ ΥΠΟΣΤΗΡΙΖΕΤΑΙ
	- Επίλυση
		- Υποστηρίζεται μόνο γραμμικά ελαστική ανάλυση
	- Υλικά
		- Υποστηρίζονται γραμμικά ελαστικά, ισότροπα υλικά
	- Διατομές
		- Υποστηρίζονται διατομές τύπου O
		- Υποστηρίζονται διατομές στις οποίες δίνονται μόνο οι σταθερές που μας ενδιαφέρουν δίχως γεωμετρικά στοιχεία
	- Φορτία
		- Υποστηρίζονται απεριόριστα τραπεζοειδώς κατανεμημένα φορτία σε δοκούς
	- Κόμβοι
		- Υποστηρίζονται κόμβοι με μεταβλητό αριθμό βαθμών ελευθερίας
		- Υποστηρίζονται δεσμεύσεις σε συγκεκριμένους βαθμούς ελευθερίας στο καθολικό ή σε σύστημα συντεταγμένων που καθορίζεται
		- Υποστηρίζονται μεταξύ κόμβων, δεσμεύσεις σε συγκεκριμένους βαθμούς ελευθερίας στο καθολικό ή σε σύστημα συντεταγμένων που καθορίζεται
		- Συνέπεια του παραπάνω, υποστηρίζονται εσωτερικές ελευθερώσεις στο φορέα με ζευγάρια κόμβων ίδιων ή και όχι, συντεταγμένων
	- Στοιχεία
		- Υποστηρίζεται ράβδος δικτυώματος
		- Υποστηρίζεται δοκός πλαισίου με/χωρίς κατανεμημένο φορτίο
		- Υποστηρίζεται ελατήριο στροφικό και γραμμικό
	- Εξαναγκασμοί
		- Υποστηρίζονται και εξαναγκασμοί (εσωτερικές ελευθερώσεις) και καταναγκασμοί (στηρίξεις) σε τοπικά συστήματα συντεταγμένων
-->

<structure>
	<!-- Ο φορέας
	Η βαρύτητα έχει διεύθυνση "-z".
	-->
	<materials><!-- Τα υλικά -->
		<!-- ΥΛΙΚΟ <material>
		@id:
			Ένα φιλικό όνομα για το υλικό. Πρέπει να είναι μοναδικό.
			Προαιρετικό. Αν παραλείπεται, αναφερόμαστε στο υλικό με το Α/Α του, ξεκινώντας από το 1.
		@E:
			Σταθερά Young
			Υποχρεωτικό.
		@v:
			Λόγος Poisson
			Υποχρεωτικό αν θέλουμε στρέψη ή κάμψη-διάτμηση Timoshenko.
		-->
		<material id="steel" E="210000000000" v="0.3" />
	</materials>
	<frame_sections><!-- Οι διατομές πλαισίου. Ακολουθούν τα υλικά. -->
		<!-- ΚΥΚΛΙΚΗ ΔΙΑΤΟΜΗ, ΣΥΜΠΑΓΗΣ Η ΚΟΙΛΗ <O>
		@id: όπως <material>
		@diameter:
			Εξωτερική και προαιρετικά εσωτερική διάμετρος χωρισμένες με " ".
			Π.χ. "0.3 0.27" για κοίλη ράβδο ή "0.3" για συμπαγή.
			Υποχρεωτικό.
		-->
		<!-- ΔΙΑΤΟΜΗ ΠΡΟΣΔΙΟΡΙΖΟΜΕΝΗ ΑΠΟ ΣΤΑΘΕΡΕΣ <generic>
		@A:
			Εμβαδόν διατομής.
			Υποχρεωτικό αν θέλουμε εφελκυσμό/θλίψη.
		@Iy:
			Ροπή αδρανείας στον άξονα y
			Υποχρεωτικό αν θέλουμε κάμψη.
		@Iz:
			Ροπή αδρανείας στον άξονα z
			Υποχρεωτικό αν θέλουμε κάμψη.
		@It:
			Στρεπτική σταθερά.
			Πρωτογενής στρεπτική σταθερά για ανομοιόμορφη στρέψη με επιρροή δευτερογενών στρεπτικών παραμορφώσεων.
			Υποχρεωτικό αν θέλουμε στρέψη.
		@Cs:
			Σταθερά στρέβλωσης.
			Προαιρετικό. Αν δε δωθεί, η στρέψη υπολογίζεται με Saint Venant.
		@It_S:
			Δευτερογενής στρεπτική σταθερά.
			Προαιρετικό. Αν δε δωθεί, η στρέψη υπολογίζεται ως ανομοιόμορφη.
		@ay:
			Timoshenko: Η τέμνουσα δύναμη σε μια διατομή, ισούται με την μέγιστη διατμητική τάση που εμφανίζεται στη διατομή επί μια απομειωμένη διατομή Asy = A / ay
			Προαιρετικό. Αν δε δωθεί η κάμψη επιλύεται με Euler.
		@az:
			Timoshenko: Η τέμνουσα δύναμη σε μια διατομή, ισούται με την μέγιστη διατμητική τάση που εμφανίζεται στη διατομή επί μια απομειωμένη διατομή Asz = A / az
			Προαιρετικό. Αν δε δωθεί η κάμψη επιλύεται με Euler.
		-->
		<!-- ΓΡΑΜΜΙΚΑ ΜΕΤΑΒΑΛΛΟΜΕΝΗ ΔΙΑΤΟΜΗ <linear> (δεν υποστηρίζεται)
			Έχει 2 elements, ένα για τη διατομή αρχής και ένα για τη διατομή πέρατος.
			Τα 2 αυτά elements πρέπει να είναι του ίδιου τύπου και δεν μπορούν να είναι του τύπου "generic" ή "linear".
		-->
		<!-- Λοιπές μη υποστηριζόμενες διατομές: H, L, T, [], U, custom, euro. -->
		<O id="section1" diameter="0.1 0" />
		<O diameter="0.1" />
		<generic A="0.1" Iy="0.1" Iz="0.1" It="0.1" Cs="0.1" ay="1.1" az="1.1" />
	</frame_sections>
	<loads><!-- Τα φορτία. Ακολουθούν τις διατομές. -->
		<!-- ΔΥΝΑΜΗ <force> ή ΡΟΠΗ <moment>
		@id: όπως <material>
		@magnitude:
			Το μέτρο της δύναμης. Υπάρχει για ευκολία.
			Σε κατανεμημένα τραπέζια φορτία περιλαμβάνει 2 τιμές. Την τιμή έναρξης και την τιμή τερματισμού.
			Προαιρετικό.
		@direction:
			Ένα διάνυσμα που δείχνει την κατεύθυνση του φορτίου.
			Το διάνυσμα αποτελείται από 3 αριθμούς, χωρισμένους με " " ή με 2 αριθμούς και ο 3ος υπονοείται 0.
			Το διάνυσμα μπορεί να είναι και "+x", "+y", "+z", "-x", "-y", "-z". Στην περίπτωση αυτή είναι μοναδιαίο.
			Αν δεν υπάρχει @magnitude, τότε είναι το διάνυσμα του φορτίου.
			Υποχρεωτικό.
		@coordinate_system:
			Αφορά μόνο κατανεμημένα φορτία. Στα επικόμβια φορτία αγνοείται αγνοείται.
			"global": Η κατεύθυνση του φορτίου δίνεται στο καθολικό σύστημα συντεταγμένων του φορέα.
			"local": Η κατεύθυνση του φορτίου δίνεται στο τοπικό σύστημα συντεταγμένων του στοιχείου.
			Προαιρετικό. Προκαθορισμένη τιμή είναι το "local".
		-->
		<force id="load1" direction="0 0 100" magnitude="100 200" coordinate_system="global" />
		<force id="load3" direction="0 0 100" />
		<moment id="load2" direction="5 0 0" />
	</loads>
	<nodes><!-- Οι κόμβοι. Ακολουθούν τα φορτία. -->
		<!-- ΚΟΜΒΟΣ <node>
		@id: όπως <material>
		Ένα από:
			@coords:
				Οι συντεταγμένες του κόμβου.
				3 αριθμοί είναι στο χώρο. 2 αριθμοί είναι στο επίπεδο x-y.
				Υποχρεωτικό.
			@clone_coords:
				Το όνομα (ή Α/Α) ενός κόμβου από τον οποίο κληρονομούνται οι συντεταγμένες του κόμβου.
				Ο κόμβος θα πρέπει να έχει φορτωθεί ήδη, άρα θα πρέπει να είναι πριν τον τρέχοντα.
				Υποχρεωτικό.
		@loads:
			Ονόματα (ή Α/Α) των επικόμβιων φορτίων ή συνδυασμού φορτίων, χωρισμένα με " ".
			Αν ένα φορτίο υπάρχει n φορές λαμβάνεται n-πλό.
			Προαιρετικό.
		@clone_loads:
			Το όνομα (ή Α/Α) ενός κόμβου από τον οποίο κληρονομούνται τα φορτία του κόμβου.
			Μπορεί να συνυπάρχει με το @loads του οποίου τα φορτία προστίθεται στα κληρονομημένα.
			Προαιρετικό.
		-->
		<node coords="1 0 0" />
		<node coords="1 1 0" />
		<node id="" coords="0 0 0" loads="1 2 3" clone_coords="node1" />
	</nodes>
	<elements><!-- Τα στοιχεία. Ακολουθούν τους κόμβους. -->
		<!-- ΡΑΒΔΟΣ <bar>
		@id: όπως <material>
		@nodes:
			Τα ονόματα (ή Α/Α) των κόμβων αρχής και πέρατος της ράβδου, χωρισμένα με " ".
			Υποχρεωτικό.
		@material:
			Το όνομα (ή Α/Α) του υλικού της ράβδου.
			Υποχρεωτικό.
		@section:
			Το όνομα (ή Α/Α) της διατομής της ράβδου. Πρέπει να είναι από <frame_section>
			Υποχρεωτικό.
		@initial_loads:
			Η προφόρτιση P0 της ράβδου στο τοπικό σύστημα της ράβδου. Εξίσωση P = K * δ - P0.
			Για τη ράβδο είναι ένας αριθμός (η αξονική δύναμη).
			Προαιρετικό.
		-->
		<!-- ΔΟΚΟΣ <beam>
		@id, @nodes, @material, @section: όπως <bar>
		@z_axis:
			Ένα διάνυσμα στο επίπεδο x-z, όπου x είναι ο άξονας της δοκού. Δεν πρέπει να έχει την ίδια διεύθυνση με τον άξονα της δοκού.
			Το διάνυσμα αποτελείται από 3 αριθμούς, χωρισμένους με " ".
			Προαιρετικό. Αν παραλείπεται λαμβάνεται το "+z", ή αν ο άξονας της δοκού έχει γωνία μικρότερη από 1.3° με τον άξονα z λαμβάνεται το "-x" ή το "+x".
		@initial_loads:
			Η προφόρτιση P0 της δοκού στο τοπικό σύστημα της δοκού. Εξίσωση P = K * δ - P0.
			Για τη δοκό είναι 3, 6 ή 7 αριθμοί: (Fx, Fy, Mz) ή (Fx, Fy, Fz, Mx, My, Mz, Mw).
			Προαιρετικό.
		@distributed_loads:
			Ονόματα (ή Α/Α) των κατανεμημένων φορτίων ή συνδυασμού φορτίων, χωρισμένα με " ".
			Αν ένα φορτίο υπάρχει n φορές λαμβάνεται n-πλό.
			Προαιρετικό.
		@warp:
			Η στρέβλωση περιλαμβάνεται σαν 7ος βαθμός ελευθερίας στους κόμβους της δοκού.
			Μια τέτοια επιλογή, θέλει ειδική μέριμνα σε κάθε κόμβο, καθώς η στρέβλωση των συντρεχουσών δοκών δεν εξισώνεται στον κόμβο.
			Τιμές: "yes" ή "no". "no" σημαίνει ότι η στρέβλωση σαν βαθμός ελευθερίας συμπυκνώνεται. Αυτό σημαίνει ότι στα άκρα της δοκού η στρέβλωση είναι ελεύθερη να πάρει ότι τιμή θέλει.
			Προαιρετικό. Αν παραλείπεται υπονοείται "no".
		-->
		<!-- ΕΛΑΤΗΡΙΟ <spring>
		@id, @initial_loads: όπως <bar>
		@nodes:
			Περίπτωση 1: όπως <bar>
			Περίπτωση 2: Το όνομα (ή Α/Α) ενός κόμβου.
			Υποχρεωτικό.
		@type:
			"linear":
				Γραμμικό ελατήριο.
				Με 2 κόμβους έχει λειτουργία παρόμοια με τη ράβδο (εκτός κι αν η διεύθυνση του ελατηρίου είναι διαφορετική)
				Με ένα κόμβο πρόκειται για στήριξη του κόμβου με ελατήριο.
			"torsion":
				Στροφικό ελατήριο.
				Με 2 κόμβους είναι ελατήριο μεταξύ των στροφών των 2 κόμβων
				Με ένα κόμβο πρόκειται για στήριξη του κόμβου με ελατήριο.
			Υποχρεωτικό.
		@K:
			Η σταθερά του ελατηρίου.
			Υποχρεωτικό.
		@direction:
			Ένα διάνυσμα που δείχνει την κατεύθυνση αντίστασης του ελατηρίου.
			Το διάνυσμα αποτελείται από 3 αριθμούς, χωρισμένους με " " ή με 2 αριθμούς και ο 3ος υπονοείται 0.
			Το διάνυσμα μπορεί να είναι και "+x", "+y", "+z", "-x", "-y", "-z".
			Υποχρεωτικό αν έχουμε ένα κόμβο ή ο κόμβος αρχής και τέλους ταυτίζονται ή έχουμε στροφικό ελατήριο.
			Προαιρετικό στις υπόλοιπες περιπτώσεις. Αν δεν υπάρχει, τότε είναι το διάνυσμα από τον κόμβο αρχής προς τον κόμβο τέλους.
		-->
		<bar id="bar1" nodes="2 node1" material="steel" section="section1" initial_loads="0" />
		<bar nodes="2 3" material="2" section="2" />
		<beam nodes="2 3" material="2" section="2" z_axis="0 0 1" initial_loads="0 0 0 0 0 0" distributed_loads="load1" warp="no" />
		<spring nodes="1 2" type="linear" K="10000" axis="5 5 0" initial_loads="0" />
		<spring nodes="1 2" type="torsion" K="10000" axis="1 0 0" />
	</elements>
	<restraints><!-- Οι στηρίξεις. Ακολουθούν τα στοιχεία. -->
		<!-- ΚΑΤΑΝΑΓΚΑΣΜΟΣ (ΣΤΗΡΙΞΗ) <restraint>
		@nodes:
			Τα ονόματα (ή Α/Α) των κόμβων στους οποίους εφαρμόζεται ο καταναγκασμός, χωρισμένα με " ".
			Δεν γίνεται 2 καταναγκασμοί να εφαρμόζονται στους ίδιους βαθμούς ελευθερίας του ίδιου κόμβου.
			Υποχρεωτικό.
		@local_coordinate_system:
			Ένα ή δύο διανύσματα που καθορίζουν το τοπικό σύστημα στο οποίο έχουμε δεσμεύσεις των βαθμών ελευθερίας.
			Ένα διάνυσμα 2 διαστάσεων: Καθορίζουν τον τοπικό άξονα x στο επίπεδο x-y. Ο άξονας z είναι ο (0, 0, 1) άρα ο άξονας y υπολογίζεται.
			Δύο διανύσματα 3 διαστάσεων: Το πρώτο καθορίζει τον τοπικό άξονα x. Το δεύτερο καθορίζει ένα διάνυσμα στο επίπεδο x-y. Ο άξονας y και z υπολογίζονται.
			Τα διανύσματα δε χρειάζεται να είναι μοναδιαία.
			Αποτελείται από 2 ή 6 αριθμούς, χωρισμένους με " ".
			Προαιρετικό. Αν παραλείπεται υπονοείται "1 0 0 0 1 0".
		@disp_x, disp_y, disp_z, rot_x, rot_y, rot_z, ...:
			Οι τιμές των δεσμεύσεων των βαθμών ελευθερίας.
			Αριθμός: Έχουμε μεταβολή στην τιμή του βαθμού ελευθερίας.
			0 ή "yes": Ο βαθμός ελευθερίας είναι δεσμευμένος.
			"no" ή παράλειψη: Ο βαθμός ελευθερίας είναι ελεύθερος.
			Επιπλέον βαθμοί ελευθερίας είναι δυνατοί (π.χ. warp).
			Τουλάχιστον ένα πρέπει να υπάρχει. Αν κάποιο δεν υπάρχει, ο αντίστοιχος βαθμός ελευθερίας είναι ελεύθερος.
			Αν δεσμεύεται κάποιος βαθμός ελευθερίας που είναι απροσδιόριστος(δεν εμπλέκεται στο φορέα, ούτε με δυσκαμψία ούτε με φορτίο), αγνοείται αν είναι 0, ειδάλλως δεν επιτρέπεται.
		-->
		<restraint nodes="1 2 3 4" local_coordinate_system="5 5 0 5 5 5" disp_x="0" disp_y="2" disp_z="yes" rot_x="no" warp="no" />
	</restraints>
	<constraints><!-- οι Εξαναγκασμοί. Ακολουθούν τις στηρίξεις. -->
		<!-- ΕΞΑΝΑΓΚΑΣΜΟΣ (ΕΣΩΤΕΡΙΚΗ ΕΛΕΥΘΕΡΩΣΗ) <constraint>
		@nodes:
			Τα ονόματα (ή Α/Α) των κόμβων στους οποίους εφαρμόζεται ο εξαναγκασμός, χωρισμένα με " ".
			Ο ίδιος κόμβος μπορεί να συμμετέχει σε πολλούς εξαναγκασμούς.
			Υποχρεωτικό.
		@local_coordinate_system: Όπως <restraint>.
		@dofs
			Οι εξαρτημένοι βαθμοί ελευθερίας των κόμβων, χωρισμένοι με " ".
			Αν όλοι οι κόμβοι δεν έχουν τους ίδιους βαθμούς ελευθερίας δεσμευμένους, τότε οι εξαρτημένοι κόμβοι επαναλαμβάνονται για κάθε κόμβο, χωρισμένοι με "~".
				Π.χ. "rot_z ~ disp_x disp_y ~ disp_x disp_y"
			Αν όλοι οι κόμβοι έχουν τους ίδιους βαθμούς ελευθερίας δεσμευμένους, η επανάλυψη αυτή δε χρειάζεται.
				Π.χ. "disp_x disp_y rot_z".
			Υποχρεωτικό.
		#text
			Τα στοιχεία ενός πίνακα M χωρισμένα με " ".
			Η σειρά είναι πρώτα τα στοιχεία της πρώτης γραμμής, μετά της 2ης κτλ
			Προαιρετικό
		Περιπτώσεις:
			Περίπτωση 1: Αν δεν υπάρχει #text
				Θεωρείται ότι όλοι οι βαθμοί ελευθερίας που εμπλέκονται συμπεριφέρονται σαν στερεό.
				Υπόψη ότι η ύπαρξη δεσμευμένης στροφής, επηρεάζει και τις δεσμευμένες μετατοπίσεις και το αντίστροφο.
			Περίπτωση 2: Υπάρχει #text
				Θεωρούμε n των σύνολο των δεσμευμένων βαθμών ελευθερίας των κόμβων της δέσμευσης.
				Θεωρούμε δ το διάνυσμα των εμπλεκόμενων στη δέσμευση μετατοπίσεων/στροφών, με n στοιχεία.
				Ο πίνακας M συνδέει τους βαθμούς ελευθερίας των κόμβων, μεταξύ τους.
				Ισχύει: Μ(:, 1:n) * δ = Μ(:, n+1)
				Άρα ο Μ έχει διαστάσεις m * (n+1).
		-->
		<constraint nodes="1 2 3 4" local_coordinate_system="5 5 0 5 5 5" dofs="disp_x disp_y rot_z" />
		<constraint nodes="1 2 3" dofs="rot_z ~ disp_x disp_y ~ disp_x disp_y" local_coordinate_system="5 5 0 5 5 5">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30</constraint>
		<constraint nodes="1 2 3" source_dofs="rot_z" local_coordinate_system="5 5 0 5 5 5" />
	</constraints>
	<output-options>
	</output-options>
</structure>